# PXA Engine - 像素动画工具 0.1.1

PXA Engine 是一个专注于像素艺术创作的轻量级工具，目前绘画功能（图层、调色板、对称绘制等）已稳定可用；骨骼动画为技术预览阶段，支持创建骨骼和简单K帧，偏移系统暂未实现。

## 特性

- 完整的像素绘画工具：铅笔、橡皮、填充、取色、选区（矩形/椭圆）
- 图层系统：新建/删除/复制/合并、透明度、混合模式、锁定、可见性
- 调色板管理：PICO-8 默认调色板、导入/导出 HEX 文件
- 对称绘制：支持水平/垂直/四象限/平移对称，可调节轴线
- 钢笔工具：贝塞尔路径绘制、节点编辑、路径转选区
- 骨骼动画系统（技术预览）：
 - 创建骨骼、建立父子层级
 - 旋转、位移、缩放变换（支持局部/世界坐标）
 - 自动关键帧：操作骨骼时自动记录关键帧（实验性）
 - 时间轴编辑：多动画管理、关键帧拖拽调整、帧/秒显示
 - 实时播放：支持循环播放、播放/暂停、步进
 - GPU 加速渲染：骨骼及蒙皮预览
  （注：偏移系统尚未实现，当前骨骼动画仅供预览和简单K帧。）
- GPU 加速渲染：使用 wgpu 实现流畅的画布与动画预览
- 自定义 PXAD 项目文件格式：支持 CRC 校验和分块存储，包含图层、调色板、选区、对称设置及动画数据
- 多语言支持：中文、英文等（可扩展）

## 如何构建与运行

### 环境要求
- Rust 1.70+（安装 Rust：https://www.rust-lang.org/tools/install）
- Windows / macOS / Linux（目前主要针对 Win32 测试）

### 构建步骤
git clone https://github.com/18301724526/pxa_engine_win32.git
cd pxa_engine_win32
cargo build --release

### 运行
cargo run --release

## 基本使用

动画模式：点击顶部 “Animate Mode” 进入骨骼动画编辑（技术预览）：
1. 使用骨骼工具创建骨骼层级（骨骼需要在绘画模式下创建）
2. 在时间轴面板新建动画
3. 选中骨骼，拖动或使用变换工具调整姿态，自动/手动记录关键帧
4. 拖拽时间轴或点击播放预览动画
注意：偏移系统尚未实现，骨骼动画功能仍在完善中，可能存在不稳定或未完成的部分。

## 项目文件格式

PXA 使用 .pxad 格式保存项目，包含画布信息、图层、调色板、选区、对称设置以及动画数据。格式设计为可扩展、带 CRC 校验，确保数据安全。

## 许可证

本项目采用自定义许可证。您可以自由使用、修改和分发本软件，但必须遵守以下条件：

1. 禁止任何人（除原作者外）将本软件或其修改版本以任何形式进行商业销售或获利。
2. 任何分发必须保留本许可证声明和版权信息。
3. 如果分发修改版本，必须以相同许可证发布。

简单来说：您可以免费使用、学习、修改，但不得售卖。如果您想用于商业用途，请联系原作者获取授权。

完整许可证请参见项目中的 LICENSE 文件。

注意：本项目仍处于早期开发阶段。绘画功能已稳定，但骨骼动画为技术预览，偏移系统尚未实现，功能可能不稳定。如有问题，请提交 Issue。
